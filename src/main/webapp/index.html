<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
    <link rel="stylesheet" href="https://unpkg.com/purecss@2.1.0/build/pure-min.css"
          integrity="sha384-yHIFVG6ClnONEA5yB5DJXfW2/KC173DIQrYoZMEtBvGzmf0PKiGyNEqe9N6BNDBH" crossorigin="anonymous">
</head>
<body>
<div style="text-align: center;">
    <h1>Insert location data:</h1>
    <form id="welcome" class="pure-form pure-form-aligned">
        <fieldset>
            <div class="pure-control-group">
                <label>City:</label>
                <input type="text" id="city" placeholder="city"/>
                <br/>
                <label>Region:</label>
                <input type="text" id="region" placeholder="region"/>
                <br/>
                <label>Country:</label>
                <input type="text" id="country" placeholder="country"/>
                <br/>
                <label>Longitude:</label>
                <input type="number" id="longitude" placeholder="longitude"/>
                <br/>
                <label>Latitude:</label>
                <input type="number" id="latitude" placeholder="latitude"/>
                <br/>
                <button class="pure-button pure-button-primary" id="addLocation">Submit</button>
                <button class="pure-button pure-button-primary" id="displayLocations">Display all locations</button>
            </div>
        </fieldset>
    </form>
    <div id="innerDiv" style="width: 40%; margin: 0 auto">
        <p>Jakis tekst</p>
    </div>
</div>
<script>
    const URL_LOCATION = 'http://localhost:8080/location';
    const innerDiv = document.getElementById('innerDiv');

    document.getElementById('displayLocations').addEventListener('click', (event) => {
        event.preventDefault();
        fetch(URL_LOCATION)
            .then(response => response.json())
            .then((json)=>
            innerDiv.innerHTML=`<p>${JSON.stringify(json)}</p>`
            );
    });

    document.getElementById('addLocation').addEventListener('click', (event) => {
        event.preventDefault();
        fetch(URL_LOCATION, {
            // Adding method type
            method: "POST",
            // Adding body or contents to send
            body: JSON.stringify({
                city: document.getElementById("city").value,
                region: document.getElementById("region").value,
                country: document.getElementById("country").value,
                longitude: document.getElementById("longitude").value,
                latitude: document.getElementById("latitude").value
            }),
            // Adding headers to the request
            headers: {
                "Content-type": "application/json; charset=UTF-8"
            }
        })
            // Converting to JSON
            .then(response => response.json())
            .then((json)=>
                innerDiv.innerHTML=`<p>${JSON.stringify(json)}</p>`
            );
    });

</script>
</body>
</html>